<Page
    x:Class="TennisCourt.GamesPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:TennisCourt"
    xmlns:md="using:TennisCourt.Models"
    xmlns:common="using:myTransfer"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Page.Resources>
        <common:StatusConverter x:Key="statusConverter"></common:StatusConverter>
    </Page.Resources>

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="6*"/>
            <RowDefinition Height="11*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="auto"/>
            <ColumnDefinition Width="1*"/>
        </Grid.ColumnDefinitions>
        <Rectangle Grid.Row="0" Grid.ColumnSpan="3" Fill="#FF0093BD" d:LayoutOverrides="LeftMargin, RightMargin, TopMargin, BottomMargin" />
        <TextBlock Text="赛事名称" FontSize="160" Grid.Row="0" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White"/>
        <ScrollViewer Grid.Row="1" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center">
            <ListView Name ="games" IsItemClickEnabled="True" ItemClick="games_ItemClick"
                      ItemsSource="{x:Bind ViewModel.AllSpecialSets}">
                <ListView.ItemTemplate>
                    <DataTemplate x:DataType="md:Games">
                        <RelativePanel HorizontalAlignment="Center" Margin="0, 12, 0, 12" BorderBrush="Black" BorderThickness="1">
                            <RelativePanel Name="Icons" RelativePanel.AlignHorizontalCenterWithPanel="True">
                                <Ellipse Name="ServerIcon" Width="148" Height="148" >
                                    <Ellipse.Fill>
                                        <ImageBrush ImageSource="Assets/Federer.jpg" />
                                    </Ellipse.Fill>
                                </Ellipse>
                                <TextBlock Name="VS_Label" Text="VS" FontSize="100" RelativePanel.AlignVerticalCenterWithPanel="True" RelativePanel.RightOf="ServerIcon" Margin="80, 0, 80, 0"/>
                                <Ellipse Name="ReceiverIcon" Width="148" Height="148" RelativePanel.RightOf="VS_Label">
                                    <Ellipse.Fill>
                                        <ImageBrush ImageSource="Assets/Federer.jpg" />
                                    </Ellipse.Fill>
                                </Ellipse>
                            </RelativePanel>
                            <RelativePanel Name="InfoPreview" Margin="0, 20, 0, 0" RelativePanel.Below="Icons" RelativePanel.AlignLeftWith="Icons" RelativePanel.AlignRightWith="Icons">
                                <TextBlock Name="Round" Text="{x:Bind Round}" FontSize="32"/>
                                <TextBlock Name="Court" Text="{x:Bind Court}" FontSize="32" RelativePanel.AlignHorizontalCenterWithPanel="True"/>
                                <TextBlock Name="Status" Text="{x:Bind Status, Converter={StaticResource statusConverter}}" FontSize="32" RelativePanel.AlignRightWithPanel="True" />
                            </RelativePanel>
                            <TextBlock Name="Result" Text="{x:Bind Result}" FontSize="60" RelativePanel.Below="InfoPreview" RelativePanel.AlignHorizontalCenterWithPanel="True"/>
                        </RelativePanel>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </ScrollViewer>
    </Grid>
    <Page.BottomAppBar>
        <CommandBar>
            <AppBarButton Name="AddGame" Icon="Add" Label="Add" Click="AddGame_Click"/>
        </CommandBar>
    </Page.BottomAppBar>
</Page>
